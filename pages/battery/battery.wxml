<!--pages/battery/battery.wxml-->
<navigation-bar title="ç”µæ± çŠ¶æ€" back="{{true}}" color="black" background="#FFF"></navigation-bar>
<view class="page">
  <!-- ç”µæ± ä¸»å¡ç‰‡ -->
  <view class="battery-card {{batteryClass}}">
    <view class="battery-visual">
      <!-- ç”µæ± å›¾æ ‡ -->
      <view class="battery-icon">
        <view class="battery-head"></view>
        <view class="battery-body">
          <view class="battery-fill" style="width: {{battery}}%; background: {{batteryColor}}"></view>
          <!-- é—ªç”µå……ç”µåŠ¨ç”» -->
          <view class="charging-indicator" wx:if="{{isCharging}}">
            <view class="lightning"></view>
          </view>
        </view>
      </view>

      <!-- ç™¾åˆ†æ¯”æ˜¾ç¤º -->
      <view class="battery-percent-display">
        <text class="percent-number">{{battery}}</text>
        <text class="percent-symbol">%</text>
      </view>
    </view>

    <!-- çŠ¶æ€ä¿¡æ¯ -->
    <view class="battery-status-info">
      <text class="status-text">{{batteryText}}</text>
      <text class="estimate-time" wx:if="{{estimateTime}}">é¢„è®¡å¯ç”¨ {{estimateTime}}</text>
    </view>
  </view>

  <!-- è®¾å¤‡çŠ¶æ€å¡ç‰‡ -->
  <view class="status-card">
    <view class="status-header">
      <view class="status-icon {{isOnline ? 'online' : 'offline'}}">
        <view class="status-dot"></view>
      </view>
      <view class="status-info">
        <text class="status-title">è®¾å¤‡çŠ¶æ€</text>
        <text class="status-value {{isOnline ? 'online' : 'offline'}}">{{isOnline ? 'åœ¨çº¿' : 'ç¦»çº¿'}}</text>
      </view>
    </view>
    <view class="status-footer">
      <text class="last-online">æœ€ååœ¨çº¿: {{lastOnlineTime}}</text>
    </view>
  </view>

  <!-- åŠŸèƒ½è®¾ç½®å¡ç‰‡ -->
  <view class="settings-card">
    <view class="setting-item">
      <view class="setting-left">
        <view class="setting-icon" style="background: #FFF3E0">
          <text class="icon-emoji">ğŸ”‹</text>
        </view>
        <view class="setting-info">
          <text class="setting-title">è¶…çº§çœç”µæ¨¡å¼</text>
          <text class="setting-desc">é™ä½å®šä½é¢‘ç‡ï¼Œå»¶é•¿ç»­èˆª</text>
        </view>
      </view>
      <switch checked="{{powerSaveMode}}" bindchange="togglePowerMode" color="#FF8C00"/>
    </view>

    <view class="setting-item border-top">
      <view class="setting-left">
        <view class="setting-icon" style="background: #E3F2FD">
          <text class="icon-emoji">ğŸ“</text>
        </view>
        <view class="setting-info">
          <text class="setting-title">å®šä½é¢‘ç‡</text>
          <text class="setting-desc">{{frequencyOptions[frequencyIndex]}}</text>
        </view>
      </view>
      <view class="setting-arrow">></view>
    </view>
  </view>

  <!-- ç”µé‡æ¶ˆè€—å¡ç‰‡ -->
  <view class="usage-card">
    <view class="usage-header">
      <text class="usage-title">ç”µé‡æ¶ˆè€—</text>
      <text class="usage-period">ä»Šæ—¥</text>
    </view>
    <view class="usage-list">
      <view class="usage-item">
        <view class="usage-item-left">
          <view class="usage-dot" style="background: #2196F3"></view>
          <text class="usage-name">GPSå®šä½</text>
        </view>
        <view class="usage-bar-container">
          <view class="usage-bar">
            <view class="usage-bar-fill blue" style="width: 65%"></view>
          </view>
          <text class="usage-percent">65%</text>
        </view>
      </view>
      <view class="usage-item">
        <view class="usage-item-left">
          <view class="usage-dot" style="background: #FF9800"></view>
          <text class="usage-name">ä¼ æ„Ÿå™¨</text>
        </view>
        <view class="usage-bar-container">
          <view class="usage-bar">
            <view class="usage-bar-fill orange" style="width: 20%"></view>
          </view>
          <text class="usage-percent">20%</text>
        </view>
      </view>
      <view class="usage-item">
        <view class="usage-item-left">
          <view class="usage-dot" style="background: #4CAF50"></view>
          <text class="usage-name">ç½‘ç»œé€šä¿¡</text>
        </view>
        <view class="usage-bar-container">
          <view class="usage-bar">
            <view class="usage-bar-fill green" style="width: 15%"></view>
          </view>
          <text class="usage-percent">15%</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç”µæ± å¥åº·å¡ç‰‡ -->
  <view class="health-card">
    <view class="health-header">
      <view class="health-icon" style="background: #E8F5E9">
        <text class="icon-emoji">ğŸ’š</text>
      </view>
      <view class="health-info">
        <text class="health-title">ç”µæ± å¥åº·åº¦</text>
        <text class="health-value">è‰¯å¥½ {{healthPercent}}%</text>
      </view>
    </view>
    <view class="health-bar">
      <view class="health-bar-fill" style="width: {{healthPercent}}%"></view>
    </view>
  </view>

  <!-- åº•éƒ¨é—´è· -->
  <view style="height: 40rpx"></view>
</view>
